<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de Fiche de Paie</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <style>
        body { font-family: Arial; margin: 20px; }
        button { 
            padding: 10px 15px; 
            background: #0066cc; 
            color: white; 
            border: none; 
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <button onclick="genererPDF()">Générer la fiche de paie</button>

    <script>
        const { jsPDF } = window.jspdf;
        
        function genererPDF() {
            const doc = new jsPDF();
            const periode = "du 01/01/25 au 31/01/25"; // Période définie
            
            // Configuration
            doc.setProperties({
                title: 'Bulletin de paie ' + periode,
                subject: 'Bulletin de salaire',
                author: 'Entreprise',
                keywords: 'paie, salaire, bulletin'
            });
            
            // Titre principal
            doc.setFontSize(16);
            doc.text("BULLETIN DE PAIE", 105, 15, { align: 'center' });
            
            // Période centrée
            doc.setFontSize(12);
            doc.text(periode.toUpperCase(), 105, 25, { align: 'center' });
            
            // Informations entreprise/salarié côte à côte
            doc.setFontSize(10);
            
            // Colonne Entreprise
            doc.text("Siret : 1234567890002", 20, 35);
            doc.text("Entreprise : SOCIETE RUE ANONYME", 20, 40);
            doc.text("Adresse : 4 RUE DE LA PAIX", 20, 45);
            doc.text("70015 PARIS", 20, 50);
            doc.text("Tél : 01 23 45 67 89", 20, 55);
            doc.text("Email : contact@entreprise.com", 20, 60);
            
            // Colonne Salarié
            doc.text("Nom : DUBOIS Jérôme", 120, 35);
            doc.text("Adresse : 4 rue de la paix", 120, 40);
            doc.text("70015 PARIS", 120, 45);
            doc.text("N° Sécurité sociale : 1 23 45 67 891 234", 120, 50);
            doc.text("Tél : 06 12 34 56 78", 120, 55);
            doc.text("Email : j.dubois@email.com", 120, 60);
            
            // Ligne de séparation
            doc.line(20, 65, 190, 65);
            
            // Tableau éléments de paie
            doc.autoTable({
                startY: 75,
                head: [['Éléments', 'Base', 'Taux', 'A déduire', 'A payer', 'Charges patronales']],
                body: [
                    ['Salaire de base', '151.67', '17.3939', '', '2 638.13', ''],
                    // ... (tous les autres éléments comme avant)
                    ['Taux personnalisé', '', '', '', '', '2 028.77']
                ],
                margin: { left: 15 },
                styles: { fontSize: 7, cellPadding: 2 },
                headStyles: { 
                    fillColor: [220, 220, 220],
                    textColor: [0, 0, 0],
                    fontStyle: 'bold'
                },
                columnStyles: {
                    0: { cellWidth: 55 },
                    1: { cellWidth: 20 },
                    2: { cellWidth: 20 },
                    3: { cellWidth: 20 },
                    4: { cellWidth: 20 },
                    5: { cellWidth: 30 }
                }
            });
            
            // Signature et pied de page (inchangés)
            // ...
            
            doc.save('bulletin_paie_janvier_2025.pdf');
        }
    </script>
</body>
</html>
